<html>
<head>
  <link rel="stylesheet" type="text/css" href="/dist/css/asciinema-player.css" />
  <link rel="stylesheet" type="text/css" href="/dist/css/themes/default.css" />

  <script src="http://fb.me/react-0.10.0.js"></script>
  <script src="http://fb.me/JSXTransformer-0.10.0.js"></script>
</head>
<body>
<div id="player-container"></div>

<script type="text/jsx">
  /**
    * @jsx React.DOM
    */

var Part = React.createClass({
  render: function() {
    return <span className={this.className()}>{this.props.text}</span>;
  },

  className: function() {
    return 'fg2';
  }
});

var Line = React.createClass({
  render: function() {
    var parts = this.props.parts.map(function(part) {
      return <Part text={part.text} attrs={part.attrs} />;
    });

    return <span className="line"><span>{parts}</span></span>;
  }
});

var Terminal = React.createClass({
  render: function() {
    var lines = this.props.lines.map(function(line) {
      return <Line parts={line} />;
    });

    return <pre className="terminal">{lines}</pre>;
  }
});

var HUD = React.createClass({
  render: function() {
    return <div className="hud">abc</div>;
  }
});

var AsciinemaPlayer = React.createClass({
  getInitialState: function() {
    return { fontSize: 'small', lines: [[{ text: 'first' }, { text: 'second' }], [{ text: 'third' }]] }
  },

  render: function() {
    return (
      <div className={this.className()}>
        <Terminal lines={this.state.lines} />
        <HUD />
      </div>
    );
  },

  className: function() {
    return 'asciinema-player font-' + this.state.fontSize;
  }
});

React.renderComponent(
  <AsciinemaPlayer />,
  document.getElementById('player-container')
);
</script>

</body>
</html>
